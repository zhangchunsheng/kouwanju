<!DOCTYPE html>
<html>
    <head>
        <title>testLogin</title>
        <meta charset="utf-8" />
        <style type="text/css">
            .button {
                background: #6facbc;
                padding: 10px;
                width: 100px;
                height: 100px;
                text-align: center;
                line-height: 100px;
                margin: 10px;
                float: left;
            }
        </style>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script type="text/javascript" src="./md5.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $("#register").bind("click", function() {
                    var loginName = $("#loginName").val();
                    var password = $("#password").val();
                    var password_verify = $("#password_verify").val();

                    var url = "http://192.168.1.99:8090/register";
                    var data = {
                        registerType: 1,
                        loginName: loginName,
                        password: hex_md5(password),
                        password_verify: hex_md5(password_verify)
                    };
                    var params = "";
                    for(var o in data) {
                        params += o + "=" + data[o] + "&"
                    }
                    params = params.substr(0, params.length - 1);
                    console.log(params);
                    $.ajax({
                        type: "get",
                        dataType: "jsonp",
                        jsonp: "jsoncallback",
                        url: url + "?" + params,
                        success: function(data, status) {
                            console.log(data);
                        }
                    });
                });

                $("#autoRegister").bind("click", function() {
                    var url = "http://192.168.1.99:8090/autoRegister";
                    var data = {
                        registerType: 2
                    };
                    var params = "";
                    for(var o in data) {
                        params += o + "=" + data[o] + "&"
                    }
                    params = params.substr(0, params.length - 1);
                    console.log(params);
                    $.ajax({
                        type: "get",
                        dataType: "jsonp",
                        jsonp: "jsoncallback",
                        url: url + "?" + params,
                        success: function(data, status) {
                            console.log(data);
                        }
                    });
                });

                $("#relevance").bind("click", function() {
                    var loginName = $("#loginName").val();
                    var password = $("#password").val();
                    var password_verify = $("#password_verify").val();

                    var url = "http://192.168.1.99:8090/relevance";
                    var data = {
                        registerType: 1,
                        loginName: loginName,
                        password: hex_md5(password),
                        password_verify: hex_md5(password_verify),
                        bindRegisterType: 2,
                        bindAccount: "w100001"
                    };
                    var params = "";
                    for(var o in data) {
                        params += o + "=" + data[o] + "&"
                    }
                    params = params.substr(0, params.length - 1);
                    console.log(params);
                    $.ajax({
                        type: "get",
                        dataType: "jsonp",
                        jsonp: "jsoncallback",
                        url: url + "?" + params,
                        success: function(data, status) {
                            console.log(data);
                        }
                    });
                });

                $("#login").bind("click", function() {
                    var loginName = $("#loginName").val();
                    var password = $("#password").val();

                    var url = "http://192.168.1.99:8090/login";
                    var data = {
                        registerType: 1,
                        loginName: loginName,
                        password: hex_md5(password)
                    };
                    var params = "";
                    for(var o in data) {
                        params += o + "=" + data[o] + "&"
                    }
                    params = params.substr(0, params.length - 1);
                    console.log(params);
                    $.ajax({
                        type: "get",
                        dataType: "jsonp",
                        jsonp: "jsoncallback",
                        url: url + "?" + params,
                        success: function(data, status) {
                            console.log(data);
                        }
                    });
                });

                $("#multiLogin").bind("click", function() {
                    var loginName = $("#loginName").val();
                    var password = $("#password").val();

                    var url = "http://192.168.1.99:8090/multiLogin";
                    var data = {
                        registerType: 1,
                        loginName: loginName,
                        password: hex_md5(password)
                    };
                    var params = "";
                    for(var o in data) {
                        params += o + "=" + data[o] + "&"
                    }
                    params = params.substr(0, params.length - 1);
                    console.log(params);
                    $.ajax({
                        type: "get",
                        dataType: "jsonp",
                        jsonp: "jsoncallback",
                        url: url + "?" + params,
                        success: function(data, status) {
                            console.log(data);
                        }
                    });
                });

                $("#hasSession").bind("click", function() {
                    var url = "http://192.168.1.99:8090/hasSession";
                    var data = {
                        sessionId: ""
                    };
                    var params = "";
                    for(var o in data) {
                        params += o + "=" + data[o] + "&"
                    }
                    params = params.substr(0, params.length - 1);
                    console.log(params);
                    $.ajax({
                        type: "get",
                        dataType: "jsonp",
                        jsonp: "jsoncallback",
                        url: url + "?" + params,
                        success: function(data, status) {
                            console.log(data);
                        }
                    });
                });

                var loginInfo = {
                    code: 200,
                    loginName: "html5",
                    registerType: 1,
                    sessionId: "43AEEFC19CCE04583BBCDC961034B75C",
                    token: "2a1e5f5238a083bf974d15cf61b2547104673e6743300c55d1d4461e2701517c",
                    uid: 5
                };
                $("#auth").bind("click", function() {
                    var url = "http://192.168.1.99:6011/auth";
                    var data = {
                        token: loginInfo.token
                    };
                    var params = "";
                    for(var o in data) {
                        params += o + "=" + data[o] + "&"
                    }
                    params = params.substr(0, params.length - 1);
                    console.log(params);
                    $.ajax({
                        type: "get",
                        dataType: "jsonp",
                        jsonp: "jsoncallback",
                        url: url + "?" + params,
                        success: function(data, status) {
                            console.log(data);
                        }
                    });
                });
            });
        </script>
    </head>
    <body>
        <div style="float:left">
            <label for="loginName">登录名：</label><input id="loginName" type="text" value="wozlla" />
            <label for="password">密码：</label><input id="password" type="password" value="wozlla" />
            <label for="password_verify">确定密码：</label><input id="password_verify" type="password" value="wozlla" />
        </div>

        <div style="clear:both;"></div>

        <div id="register" class="button">注册</div>
        <div id="autoRegister" class="button">自动注册</div>
        <div id="relevance" class="button">关联帐号</div>
        <div id="login" class="button">登录</div>
        <div id="multiLogin" class="button">多方式登录</div>
        <div id="hasSession" class="button">hasSession</div>

        <div id="auth" class="button">auth</div>
    </body>
</html>